---
title: "ST558 Project 1"
author: "Chengxi Zou"
date: '2022-06-25'
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, eval = TRUE, message = FALSE, warning = FALSE)
```

## Initial Settings

```{r settings, echo=TRUE}
# have a section that notes the required packages needed to run the code to create vignette near the top
library(httr)
library(jsonlite)
library(tidyverse)
library(dplyr)
```

## Reading Data from Pokemon data api

This is a consumption-only API â€” only the HTTP GET method is available on resources.

No authentication is required to access this API, and all resources are fully open and available.

```{r readindata, echo=TRUE}
# have a section that notes the required packages needed to run the code to create vignette near the top
library(httr)
library(jsonlite)

initialpath = "https://pokeapi.co/api/v2/berry/"

# search berry data by typing name or id.
getberrydata = function(x){
  fullpath = paste(initialpath, x, sep = "")
  a <- GET(fullpath)
  b <- fromJSON(rawToChar(a$content))
  berryinfo <- data.frame(id=b$id,name=b$name,max_grown=b$max_harvest,growth_time=b$growth_time,
                     power=b$natural_gift_power,size=b$size,smoothness=b$smoothness,
                     SoilDrySpeed=b$soil_dryness,firmness=b$firmness,
                     flavor.name=b$flavors$flavor$name,flavor.url=b$flavors$flavor$url,
                     item=b$item,type=b$natural_gift_power)
berryinfotbl <- as_tibble(berryinfo)
  return(berryinfotbl)
}

# search all berry data by typing name or id.
getallberrydata = function(type){
  
  allberry <- data.frame()
  for (i in 1:64) {
    fullpath = paste(initialpath, i, sep = "")
    a <- GET(fullpath)
    b <- fromJSON(rawToChar(a$content))
    berryinfo <- data.frame(id=b$id,name=b$name,max_grown=b$max_harvest,growth_time=b$growth_time,
                            power=b$natural_gift_power,size=b$size,smoothness=b$smoothness,
                            SoilDrySpeed=b$soil_dryness,firmness=b$firmness,
                            flavor.name=b$flavors$flavor$name,flavor.url=b$flavors$flavor$url,
                            item=b$item,type=b$natural_gift_power)
    rbind(allberry, berryinfo)
  }
  allberry
  
  
  
  
  
allberryinfotbl <- as_tibble(allberry)
  return(allberryinfotbl)
}

allberry
```

```{r}
getberrydata("jaboca")

  allberry <- data.frame()
  for (i in 1:64) {
    fullpath = paste(initialpath, i, sep = "")
    a <- GET(fullpath)
    b <- fromJSON(rawToChar(a$content))
    berryinfo <- data.frame(id=b$id,name=b$name,max_grown=b$max_harvest,growth_time=b$growth_time,
                            power=b$natural_gift_power,size=b$size,smoothness=b$smoothness,
                            SoilDrySpeed=b$soil_dryness,firmness=b$firmness,
                            flavor.name=b$flavors$flavor$name,flavor.url=b$flavors$flavor$url,
                            item=b$item,type=b$natural_gift_power)
    rbind(allberry, berryinfo)
  }
  allberry
  
for (i in 1:64) {
fullpath = paste(initialpath,2, sep = "")
fullpath
}
  
for (i in 1:64) {
print(i)
}
  a=1
  a
```


